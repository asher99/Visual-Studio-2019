(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{132:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),m=a(21),r=a(22),c=a(7),l=a(69),i=(a(38),a(24),a(140)),o=a(23),d=a.n(o);class h extends s.Component{constructor({match:e}){super(),this.componentDidMount=()=>{document.body.classList.toggle("chat"),this.setState({name:this.getShortName(this.userName.name)});d()(this.state.endpoint).on("message",e=>{if(e.name!==this.state.name){let t=this.state.allMessages;t.push(e),this.setState({allMessages:t})}})},this.send=()=>{let e={type:"send",content:this.state.message,name:this.state.name,time:this.getTime()},t=this.state.allMessages;t.push(e),this.setState({allMessages:t}),this.setState({message:""});let a=Object(l.a)({},e);a.type="recieve";d()(this.state.endpoint).emit("message",a)},this.userName=e.params,this.state={endpoint:"localhost:4001",message:"",name:"",allMessages:[]},this.updateMessage=this.updateMessage.bind(this)}componentWillUnmount(){document.body.classList.remove("chat")}updateMessage(e){this.setState({message:e.target.value})}render(){d()(this.state.endpoint);return n.a.createElement("div",{className:"container-fluid h-100"},n.a.createElement("div",{className:"row justify-content-center h-100"},n.a.createElement("div",{className:"col-md-8 col-xl-6 chat"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header msg_head"},n.a.createElement("div",{className:"d-flex bd-highlight"},n.a.createElement("div",{className:"img_cont"},n.a.createElement("div",{className:"rounded-circle user_img userNameCard"},this.state.name),n.a.createElement("span",{className:"online_icon"})),n.a.createElement("div",{className:"user_info"},n.a.createElement("span",null,"Chat"),n.a.createElement("p",null,this.state.allMessages.length," Messages")))),n.a.createElement("div",{className:"card-body msg_card_body"},this.renederMessages()),n.a.createElement("div",{className:"card-footer"},n.a.createElement("div",{className:"input-group"},n.a.createElement("textarea",{name:"",className:"roundCorner form-control type_msg ",placeholder:"Type your message...",value:this.state.message,onChange:this.updateMessage}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("span",{onClick:this.send,className:"input-group-text send_btn costumSendBtn"},n.a.createElement(i.a,{glyph:"send"})))))))))}getTime(){let e=new Date;return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}getShortName(e){let t="";return e.split(" ").forEach((function(e){t+=e.charAt(0)})),t.toUpperCase()}renederMessages(){return this.state.allMessages.map(e=>this.getMessage(e))}getMessage(e){return"send"==e.type?n.a.createElement("div",{key:e.time,className:"d-flex justify-content-end mb-4"},n.a.createElement("div",{className:"msg_cotainer_send"},e.content,n.a.createElement("span",{className:"msg_time_send"},e.time)),n.a.createElement("div",{className:"img_cont_msg"},n.a.createElement("div",{className:"rounded-circle user_img_msg littleCircle"},this.state.name))):"recieve"==e.type?n.a.createElement("div",{key:e.time,className:"d-flex justify-content-start mb-4"},n.a.createElement("div",{className:"img_cont_msg"},n.a.createElement("div",{className:"rounded-circle user_img_msg littleCircleStart"},e.name)),n.a.createElement("div",{className:"msg_cotainer"},e.content,n.a.createElement("span",{className:"msg_time"},e.time))):void 0}}var u=h;a(132);class g extends s.Component{constructor(){super(),this.state={name:""},this.updateName=this.updateName.bind(this)}updateName(e){this.setState({name:e.target.value})}render(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"login-container"},n.a.createElement("div",{id:"output"}),n.a.createElement("div",{className:"avatar"},this.getShortName(this.state.name)),n.a.createElement("div",{className:"form-box"},n.a.createElement("form",{action:"",method:""},n.a.createElement("input",{name:"user",type:"text",value:this.state.name,onChange:this.updateName,placeholder:"username"}),n.a.createElement("input",{type:"password",placeholder:"password"}),n.a.createElement(r.b,{to:"/chat/"+this.state.name},n.a.createElement("button",{className:"btn btn-info btn-block login",disabled:""==this.state.name},"Login"))))))}getShortName(e){let t="";return e.split(" ").forEach((function(e){t+=e.charAt(0)})),t.toUpperCase()}}var p=g;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));class E extends s.Component{constructor(){super(),this.state={message:""}}updateMessage(e){this.setState({message:e.target.value})}render(){return n.a.createElement(r.a,null,n.a.createElement("div",null,n.a.createElement(c.c,null,n.a.createElement(c.a,{exact:!0,path:"/",component:p}),n.a.createElement(c.a,{exact:!0,path:"/chat/:name",component:u}))))}}Object(m.render)(n.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},38:function(e,t,a){},71:function(e,t,a){e.exports=a(139)},98:function(e,t){}},[[71,1,2]]]);
//# sourceMappingURL=main.e5e5067b.chunk.js.map